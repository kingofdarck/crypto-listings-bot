# Деплой на Railway

## Шаги для деплоя:

### 1. Подготовка репозитория
```bash
git add .
git commit -m "Add Railway configuration"
git push origin main
```

### 2. Создание проекта на Railway
1. Зайдите на [railway.app](https://railway.app)
2. Нажмите "New Project"
3. Выберите "Deploy from GitHub repo"
4. Выберите ваш репозиторий `crypto-listings-bot`

### 3. Настройка переменных окружения
В Railway Dashboard добавьте переменные:

**Обязательные:**
- `TELEGRAM_BOT_TOKEN` = `8565304713:AAFpnuNkp4QR6Yk9H-5NoN8l3Z1pN2WigKQ`

**Опциональные:**
- `CHAT_ID` = ваш chat_id (если знаете)
- `LOG_LEVEL` = `INFO`

### 4. Настройка сервиса
1. В Railway Dashboard перейдите в Settings
2. Убедитесь что тип сервиса: **Worker** (не Web)
3. Start Command: `python main.py`
4. Restart Policy: `On Failure`

### 5. Деплой
1. Railway автоматически задеплоит после push в main
2. Проверьте логи в разделе "Deployments"
3. Отправьте любое сообщение боту для активации

## Мониторинг

### Логи
- Все логи доступны в Railway Dashboard
- Логи выводятся в stdout для Railway

### Рестарт
- Бот автоматически перезапускается при ошибках
- Максимум 10 попыток перезапуска

### Данные
- Данные о листингах сохраняются в памяти
- При рестарте данные загружаются заново

## Troubleshooting

### Если бот не отвечает:
1. Проверьте логи в Railway
2. Убедитесь что TELEGRAM_BOT_TOKEN правильный
3. Отправьте /start боту

### Если нет уведомлений:
1. Отправьте любое сообщение боту
2. Проверьте что chat_id определился в логах
3. Проверьте что биржи отвечают (в логах)

### Ошибки API:
- Бот автоматически обрабатывает ошибки API
- При временных проблемах ждет и повторяет запросы
- Критические ошибки логируются